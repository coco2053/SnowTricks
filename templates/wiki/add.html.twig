{% extends 'base.html.twig' %}

{#{% form_theme formArticle 'bootstrap_4_layout.html.twig' %}#}
{% block title %}Ajout{% endblock %}
{% block body %}

    <h1>Page de creation</h1>

    {{ form_start(form) }}
    {{ form_row(form._token) }}

    {{ form_row(form.name, {'label': 'Nom de la figure', 'attr': {'placeholder': 'Entrez le nom de la figure'}}) }}

    {{ form_row(form.trickGroup, {'label': 'Groupe'}) }}

    {{ form_row(form.content, {'label': 'Description', 'attr': {'placeholder': 'Décrivez comment réaliser la figure'}}) }}

<p><button type="button" class="btn btn-sm btn-primary btn-add" data-rel="#images">Ajouter</button></p>
   <div id="images" class="row" data-index="{{ form.trickImages|length > 0 ? form.trickImages|last.vars.name+1 : 0 }}" data-prototype="{{ include("theme/form_image.html.twig", { form: form.trickImages.vars.prototype })|e("html_attr") }}">
        {% for image in form.trickImages %}
            {{ include("theme/form_image.html.twig", { form: image }) }}

        {% endfor %}
    </div>

    <p><button type="button" class="btn btn-sm btn-primary btn-add" data-rel="#videos">Ajouter</button></p>
    <div id="videos" class="row" data-index="{{ form.videos|length > 0 ? form.videos|last.vars.name+1 : 0 }}" data-prototype="{{ include("theme/form_video.html.twig", { form: form.videos.vars.prototype })|e("html_attr") }}">
        {% for video in form.videos %}
            {{ include("theme/form_video.html.twig", { form: video }) }}
        {% endfor %}
    </div>
        <br>

    <button type="submit" class="btn btn-success">Ajouter la figure</button>

    {{ form_end(form, {'render_rest': false}) }}

{% endblock %}

{% block javascripts %}

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    {# On charge le script pour les videos.
    <script src="{{ asset("js/addVideo.js") }}"></script>
     On charge le script pour les images.
    <script src="{{ asset("js/addImage.js") }}"></script>#}
    <script src="{{ asset("js/jsForm.js") }}"></script>


{% endblock %}
