{% extends 'base.html.twig' %}

{% block title %}Ajout{% endblock %}

{% block body %}

<div class="container-fluid">
    <div class="col-md-2"> </div>
    <div class="col-md-8 container-trick">
        <div class="container-in">
        <h2>Ajouter une figure</h2>
        <div class="form">
            {{ form_start(form) }}
            {{ form_row(form._token) }}
            {{ form_row(form.name, {'label': 'Nom de la figure', 'attr': {'placeholder': 'Entrez le nom de la figure'}}) }}
            {{ form_row(form.content, {'label': 'Description', 'attr': {'placeholder': 'Décrivez comment réaliser la figure',
                                                                    'rows': "6" }}) }}
            {{ form_row(form.trickGroup, {'label': 'Groupe', 'attr': {'style': 'max-width: 150px'}}) }}
            Images
            <button type="button" class="btn btn-sm btn-add fa fa-plus fa-lg" data-rel="#images"></button>
            <div id="images" data-index="{{ form.trickImages|length > 0 ? form.trickImages|last.vars.name+1 : 0 }}" data-prototype="{{ include("theme/form_image.html.twig", { form: form.trickImages.vars.prototype })|e("html_attr") }}">
                {% for image in form.trickImages %}
                    {{ include("theme/form_image.html.twig", { form: image }) }}
                {% endfor %}
            </div>
            Vidéos
            <button type="button" class="btn btn-sm btn-add fa fa-plus fa-lg" data-rel="#videos"></button>
            <div id="videos" data-index="{{ form.videos|length > 0 ? form.videos|last.vars.name+1 : 0 }}" data-prototype="{{ include("theme/form_video.html.twig", { form: form.videos.vars.prototype })|e("html_attr") }}">
                {% for video in form.videos %}
                    {{ include("theme/form_video.html.twig", { form: video }) }}
                {% endfor %}
            </div>
            <button type="submit" name="add" class="btn btn-success">Ajouter la figure</button>
            {{ form_end(form, {'render_rest': false}) }}
        </div>
      </div>
    </div>
    <div class="col-md-2"> </div>
</div>
{% endblock %}

{% block javascripts %}

      <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="4-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="{{ asset("js/jsForm.js") }}"></script>
{% endblock %}
